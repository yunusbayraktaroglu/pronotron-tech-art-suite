(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14737,t=>{"use strict";var e=class{constructor(){this.t=!1,this.i=0,this.h=0,this.o=0,this.l=0,this.u=0,this.m=0}tick(){return this.t||this.p(),this.v()}pause(){this.l=s()}resume(){this.u+=(s()-this.l)/1e3}getTime(){return{elapsedTime:this.o,elapsedPausedTime:this.m}}p(){this.i=s(),this.h=this.i,this.t=!0}v(){let t=s(),e=(t-this.h)/1e3;return this.h=t,this.o+=e,this.m=this.o-this.u,e}};function s(){return performance.now()}var i=class{constructor(t,e,s){this.usedSlots=0,this.P=new Map,this.T=new Map,this.table=new e(t*s),this.stride=t,this.M=s}add(t,e){if(this.isExist(t))return void console.warn(`ID: '${t}' already exist in the table.`);let s=this.D(),i=s*this.stride;for(let[t,s]of Object.entries(e))this.table[i+Number(t)]=s;this.P.set(t,s),this.T.set(s,t),this.usedSlots+=1}remove(t){let e=this.I(t);if(e===this.usedSlots-1)this.T.delete(e);else{let t=this.usedSlots-1,s=this.T.get(t),i=t*this.stride,n=e*this.stride;for(let t=0;t<this.stride;t++)this.table[n+t]=this.table[i+t];this.P.set(s,e),this.T.set(e,s),this.T.delete(t)}this.P.delete(t),this.usedSlots-=1}getData(t,e){let s=this.I(t)*this.stride;return this.table[s+e]}modifyByID(t,e){let s=this.I(t);this.modifyByPosition(s,e)}modifyByPosition(t,e){let s=t*this.stride;for(let[t,i]of Object.entries(e))this.table[s+Number(t)]=i}isExist(t){return this.P.has(t)}I(t){let e=this.P.get(t);if(void 0===e)throw Error(`ID: '${t}' is not found in the table.`);return e}D(){return this.usedSlots===this.M&&this._(),this.usedSlots}_(){let t=2*this.M,e=new this.table.constructor(t*this.stride);e.set(this.table),this.table=e,this.M=t}},n=class{constructor(t){this.A=t,this.S=new Uint8Array(t)}get(){for(let t=0;t<this.S.length;t++)if(!this.S[t])return t;let t=this.A;return this._(),t}consume(t){this.S[t]=1}release(t){this.S[t]=0}_(){let t=2*this.A,e=new Uint8Array(t);e.set(this.S),this.S=e,this.A=t}},r=class{constructor(t,e=20){this.B=new Map,this.O=[],this.k=t,this.$=new n(e),this.j=new i(7,Float32Array,e)}add(t){this.j.isExist(t.id)&&this.remove(t.id,!0);let{elapsedTime:e,elapsedPausedTime:s}=this.k.getTime(),i=this.$.get(),n=t.autoPause?s:e,r=t.duration||0,h=n+(t.delay||0);this.j.add(t.id,{0:i,1:r,2:h,3:h+r,4:+!!t.onRender,5:+!t.autoPause,6:0}),this.B.set(t.id,i),this.$.consume(i),this.O[i]=t}remove(t,e=!1){var s,i;let n=this.B.get(t);void 0!==n?(null==(i=(s=this.O[n]).onEnd)||i.call(s,e),this.C(n)):console.warn(`AnimationID: '${t}' does not exist.`)}tick(){var t,e;let{table:s,usedSlots:i,stride:n}=this.j,{elapsedTime:r,elapsedPausedTime:h}=this.k.getTime();for(let o=0;o<i;o++){let i=o*n,l=1===s[i+5]?r:h,a=s[i+2];if(l<a)continue;let d=s[i+0],c=s[i+1],u=this.O[d];0===s[i+6]&&(s[i+6]=1,null==(t=u.onBegin)||t.call(u)),s[i+4]&&u.onRender(l,a,c),l>s[i+3]&&(null==(e=u.onEnd)||e.call(u,!1),this.C(d))}}C(t){let e=this.O[t].id;this.j.remove(e),this.B.delete(e),this.$.release(t),this.O[t]=void 0}},h=class{constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}add(t){return this.x+=t.x,this.y+=t.y,this}sub(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}lengthSq(){return this.x*this.x+this.y*this.y}clamp(t,e){return this.x=o(this.x,t.x,e.x),this.y=o(this.y,t.y,e.y),this}copy(t){return this.x=t.x,this.y=t.y,this}*[Symbol.iterator](){yield this.x,yield this.y}};function o(t,e,s){return Math.max(e,Math.min(s,t))}function l(){let t=!1;if("maxTouchPoints"in navigator)t=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)t=navigator.msMaxTouchPoints>0;else{let e=matchMedia&&matchMedia("(pointer:coarse)");if(e&&"(pointer:coarse)"===e.media)t=!!e.matches;else if("orientation"in window)t=!0;else{let e=navigator.userAgent;t=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(e)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(e)}}return t}t.s(["IDPool",()=>n,"NativeControlTable",()=>i,"PronotronAnimator",()=>r,"PronotronClock",()=>e,"Vector2",()=>h,"isTouchDevice",()=>l])},85152,t=>{"use strict";var e=t.i(43476),s=t.i(71645);function i(t){return(0,e.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:(0,e.jsx)("use",{href:"#close_icon"})})}function n(t){return(0,e.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:(0,e.jsx)("use",{href:"#expand_icon"})})}function r({expand:t=!0,title:r,children:h}){let[o,l]=(0,s.useState)(t),a=o?"true":"false",d=o?"":" opacity-50";return(0,e.jsxs)("div",{className:"container flex flex-col py-spacing-sm landscape:py-spacing-sm"+d,children:[(0,e.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,e.jsx)("button",{type:"button","aria-haspopup":"true","aria-label":"Open Menu","aria-expanded":a,onClick:()=>l(t=>!t),children:(0,e.jsx)("h3",{className:"text-sm leading-none",children:r})}),(0,e.jsxs)("button",{type:"button","aria-haspopup":"true","aria-label":"Open Menu","aria-expanded":a,className:"group",onClick:()=>l(t=>!t),children:[(0,e.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,e.jsx)(n,{className:"h-5 w-5 hidden group-aria-[expanded=false]:block",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"}),(0,e.jsx)(i,{className:"h-5 w-5 hidden group-aria-[expanded=true]:block",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"})]})]}),o&&h]})}t.s(["Expandable",()=>r],85152)},56629,t=>{"use strict";let e;var s=t.i(43476),i=t.i(71645),n=t.i(85152),r=t.i(14737),h=class{t(...t){t.forEach(([t,e,s])=>{this.i.addEventListener(t,e,null!=s?s:{passive:!1})})}h(...t){t.forEach(([t,e])=>{this.i.removeEventListener(t,e)})}o(t,e){this.i.dispatchEvent(new CustomEvent(t,{detail:e}))}},o=((e=o||{})[e.IDLE=0]="IDLE",e[e.PENDING=1]="PENDING",e[e.DRAGGING=2]="DRAGGING",e[e.MOVING=3]="MOVING",e[e.HOLDING=4]="HOLDING",e[e.HOLD_DRAGGING=5]="HOLD_DRAGGING",e[e.OUTSIDE=6]="OUTSIDE",e),l=class extends h{constructor(t){if(super(),this.u=!1,this.p=!1,this.v=0,this.l=new r.Vector2,this._=new r.Vector2,this.P=new r.Vector2,this.D=new r.Vector2,this.m=.5,this.S=.25,this.G=10,this.I=0,this.i=t.target,this.L=t.animator,this.N=t.clock,this.H=t.isInteractable,t.startPosition){const{x:e,y:s}=t.startPosition;this.l.set(e,s),this._.set(e,s)}this.M(t)}M(t){this.m=t.idleThreshold,this.S=t.tapThreshold,this.G=t.movingDeltaLimit}O(){return this.u?(console.warn("Already running"),!1):(this.u=!0,this.v=0,!0)}T(){this.u=!1,this.v=0}A(t){this.v=1;let{elapsedTime:e}=this.N.getTime();this.I=e,this.P.set(0,0),this.p=this.H(t.target)}C(t){switch(this.v){case 0:case 1:this.P.lengthSq()>this.G&&(this.v=3)}this.p=this.H(t.target),this.L.add({id:"IDLE",duration:this.m,autoPause:!1,onEnd:t=>{t||3!==this.v||(this.v=0)}})}R(t){let{elapsedTime:e}=this.N.getTime();1===this.v&&e<this.I+this.S&&this.o("tap",{target:t.target,position:{x:this.l.x,y:this.l.y}}),this.v=0}U(t,e){this._.set(t,e),this.P.sub(this._,this.l),this.D.add(this.P),this.l.copy(this._)}},a=class{constructor(t){this.V=t}updateSettings(t){this.V.M(t)}getState(){return o[this.V.v]}canInteract(){return this.V.p}getPosition(){return this.V.l}getDelta(){return this.V.P}getDeltaAdditive(){return this.V.D}},d=class extends a{constructor(t){super(t),this.j=!1,this.A=this.A.bind(this),this.C=this.C.bind(this),this.R=this.R.bind(this),this.k=this.k.bind(this),this.q=this.q.bind(this),this.B=this.B.bind(this)}startEvents(){this.V.O()&&this.V.t(["pointerdown",this.A],["pointermove",this.C],["pointerleave",this.k],["dragstart",this.q])}stopEvents(){this.V.T(),this.V.h(["pointerdown",this.A],["pointermove",this.C],["pointerup",this.R],["pointercancel",this.R],["pointerleave",this.k],["dragstart",this.q],["dragover",this.C],["dragend",this.B])}F(t){return{x:t.clientX,y:t.clientY}}A(t){this.V.t(["pointerup",this.R],["pointercancel",this.R]),this.V.A(t)}R(t){this.j=!0,this.V.h(["pointerup",this.R],["pointercancel",this.R]),2!==this.V.v&&this.V.R(t)}C(t){if(this.j)return void(this.j=!1);let{x:e,y:s}=this.F(t);6===this.V.v&&(this.V.l.set(e,s),this.V._.set(e,s),this.V.v=3),this.V.U(e,s),2!==this.V.v&&this.V.C(t)}k(t){5===this.V.v&&this.V.R(t),this.V.v=6}q(t){this.V.t(["dragover",this.C],["dragend",this.B]),this.V.v=2}B(t){this.V.h(["dragover",this.C],["dragend",this.B]),this.V.v=0}},c=class extends a{constructor(t){super(t),this.A=this.A.bind(this),this.C=this.C.bind(this),this.R=this.R.bind(this)}startEvents(){this.V.O()&&this.V.t(["touchstart",this.A])}stopEvents(){this.V.h(["touchstart",this.A],["touchmove",this.C],["touchend",this.R]),this.V.T()}F(t){return{x:t.touches[0].clientX,y:t.touches[0].clientY}}A(t){this.V.t(["touchmove",this.C],["touchend",this.R]);let{x:e,y:s}=this.F(t);this.V.l.set(e,s),this.V.A(t)}R(t){this.V.h(["touchmove",this.C],["touchend",this.R]),this.V.R(t)}C(t){let{x:e,y:s}=this.F(t);this.V.U(e,s),this.V.C(t)}},u=class extends l{constructor(t){super(t),this.J=null,this.K=.35,this.W=!1,this.X=t.isHoldable,this.M(t)}M(t){super.M(t),this.K=t.holdThreshold}A(t){t.target&&this.X(t.target)&&(this.W=!0,this.L.add({id:"HOLD",duration:this.K,autoPause:!1,onEnd:e=>{e||1!==this.v||this.Y(t)}})),super.A(t)}C(t){4!==this.v&&5!==this.v||(t.stopImmediatePropagation(),t.preventDefault(),this.v=5),this.W=!1,super.C(t)}R(t){switch(this.J&&(this.v=4),this.v){case 5:case 4:this.Z(t)}super.R(t)}Y(t){this.v=4,this.o("hold",{target:t.target,position:{x:this.l.x,y:this.l.y}}),this.J=t.target,this.J.dataset.holded="1"}Z(t){this.o("holdend",{target:this.J,endTarget:t.target,position:{x:this.l.x,y:this.l.y}}),this.J.dataset.holded="0",this.J=null}};let x={tapThreshold:.25,idleThreshold:.5,holdThreshold:.75,movingDeltaLimit:10},m=(0,i.createContext)(void 0),p=()=>{let t=(0,i.useContext)(m);if(!t)throw Error("usePointerContext must be used within a PronotronPointerProvider");return t};function v({children:t}){let e=(0,i.useRef)(new r.PronotronClock),n=(0,i.useRef)(new r.PronotronAnimator(e.current)),[h,o]=(0,i.useState)(null);return((0,i.useEffect)(()=>{var t;let s,i,h=(t={...x,startPosition:{x:window.innerWidth/2,y:window.innerHeight/2},target:window.document.body,animator:n.current,clock:e.current,isInteractable:t=>!!(t.closest("a")||t.closest("button")||t.closest(".holdable")),isHoldable:t=>!!t.dataset.holded},s=(0,r.isTouchDevice)(),i=new u(t),s?new c(i):new d(i));h.startEvents();let l=0,a=()=>{e.current.tick(),n.current.tick(),l=requestAnimationFrame(a)};l=requestAnimationFrame(a);let m=()=>{document.hidden?e.current.pause():e.current.resume()};return document.addEventListener("visibilitychange",m),o(h),()=>{cancelAnimationFrame(l),document.removeEventListener("visibilitychange",m),h.stopEvents()}},[]),(0,i.useEffect)(()=>{let t=t=>{document.documentElement.classList.add("holding"),console.log("HOLD",t)},e=t=>{document.documentElement.classList.remove("holding"),console.log("HOLD-END",t)},s=t=>{console.log("TAP",t)};return window.document.body.addEventListener("hold",t),window.document.body.addEventListener("holdend",e),window.document.body.addEventListener("tap",s),()=>{window.document.body.removeEventListener("hold",t),window.document.body.removeEventListener("holdend",e),window.document.body.removeEventListener("tap",s)}},[]),h)?(0,s.jsx)(m.Provider,{value:{pointerController:h},children:t}):null}let g=(0,i.createContext)(void 0),y=()=>{let t=(0,i.useContext)(g);if(!t)throw Error("usePointerDataContext must be used within a PronotronPointerDataProvider");return t};function b({children:t}){let{pointerController:e}=p(),n=e.getPosition(),[r,h]=(0,i.useState)({x:n.x,y:n.y}),[o,l]=(0,i.useState)({x:n.x,y:n.y}),a=(0,i.useRef)({x:n.x,y:n.y}),[d,c]=(0,i.useState)({x:0,y:0}),[u,x]=(0,i.useState)({x:0,y:0}),m=(0,i.useRef)({x:0,y:0}),v=(0,i.useRef)({x:0,y:0}),[y,b]=(0,i.useState)(""),[f,j]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let t=0,s=()=>{let i=e.getPosition();a.current.x+=(i.x-a.current.x)*.15,a.current.y+=(i.y-a.current.y)*.15,h({x:i.x,y:i.y}),l({x:a.current.x,y:a.current.y});let n=e.getDeltaAdditive();v.current.x=n.x-m.current.x,v.current.y=n.y-m.current.y,m.current.x+=.15*v.current.x,m.current.y+=.15*v.current.y,c(e.getDelta()),x(v.current),b(e.getState()),j(e.canInteract()),t=requestAnimationFrame(s)};return t=requestAnimationFrame(s),()=>{cancelAnimationFrame(t)}},[]),(0,s.jsx)(g.Provider,{value:{pointerPosition:r,pointerEasedPosition:o,pointerDelta:d,pointerDeltaAdditive:u,pointerTargetInteractable:f,pointerState:y},children:t})}function f(){return(0,i.useEffect)(()=>(document.body.classList.add("custom-cursor"),()=>document.body.classList.remove("custom-cursor")),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{children:(0,s.jsxs)(b,{children:[(0,s.jsx)(T,{}),(0,s.jsxs)("div",{className:"sticky top-0 z-50",children:[(0,s.jsx)("div",{className:"bg-black/20",children:(0,s.jsx)(n.Expandable,{title:"Pointer Debug",expand:!0,children:(0,s.jsx)(w,{})})}),(0,s.jsx)("div",{className:"bg-black/10",children:(0,s.jsx)(n.Expandable,{title:"Pointer Settings",expand:!1,children:(0,s.jsx)(j,{})})})]})]})}),(0,s.jsx)("div",{className:"container flex flex-col my-spacing-lg",children:(0,s.jsxs)("div",{className:"flex flex-col landscape:flex-row items-center justify-center h-[80vh] relative bg-slate-200 p-spacing-base gap-spacing-base",children:[(0,s.jsx)("a",{href:"#",className:"text-black text-xl leading-none hover:underline",children:"Link"}),(0,s.jsx)("button",{className:"text-white text-xl py-3 px-spacing-lg leading-none rounded-full transition-colors bg-orange-600 hover:bg-orange-700",children:"Button"}),(0,s.jsx)("div",{"data-holded":"0",className:"holdable flex items-center justify-center bg-purple-500 text-white rounded-lg py-3 px-spacing-lg group",children:(0,s.jsxs)("div",{className:"pointer-events-none select-none",children:[(0,s.jsx)("p",{className:"text-xl group-data-[holded=1]:hidden",children:"Holdable"}),(0,s.jsx)("p",{className:"text-xl group-data-[holded=0]:hidden",children:"Holded"})]})})]})})]})}function j(){let{pointerController:t}=p(),[e,n]=(0,i.useState)(x);(0,i.useEffect)(()=>{t.updateSettings(e)},[e]);let r=(0,i.useCallback)(t=>{let{name:e,value:s}=t.target;n(t=>({...t,[e]:Number(s)}))},[]);return(0,s.jsxs)("div",{className:"form grid gap-spacing-sm grid-rows-2 grid-cols-2 mt-spacing-xs landscape:grid-cols-4 landscape:grid-rows-1",children:[(0,s.jsxs)("fieldset",{children:[(0,s.jsxs)("label",{htmlFor:"tapThreshold",children:["Tap Threshold ",(0,s.jsx)("small",{children:"(sec)"})]}),(0,s.jsx)("input",{className:"w-full",type:"number",min:.1,step:.1,name:"tapThreshold",id:"tapThreshold",value:e.tapThreshold,onChange:r})]}),(0,s.jsxs)("fieldset",{children:[(0,s.jsxs)("label",{htmlFor:"idleThreshold",children:["Idle Threshold ",(0,s.jsx)("small",{children:"(sec)"})]}),(0,s.jsx)("input",{className:"w-full",type:"number",min:.1,step:.1,name:"idleThreshold",id:"idleThreshold",value:e.idleThreshold,onChange:r})]}),(0,s.jsxs)("fieldset",{children:[(0,s.jsxs)("label",{htmlFor:"holdThreshold",children:["Hold Threshold ",(0,s.jsx)("small",{children:"(sec)"})]}),(0,s.jsx)("input",{className:"w-full",type:"number",min:.1,step:.1,name:"holdThreshold",id:"holdThreshold",value:e.holdThreshold,onChange:r})]}),(0,s.jsxs)("fieldset",{children:[(0,s.jsxs)("label",{htmlFor:"movingDeltaLimit",children:["Moving Delta ",(0,s.jsx)("small",{children:"(px)"})]}),(0,s.jsx)("input",{className:"w-full",type:"number",min:1,step:1,name:"movingDeltaLimit",id:"movingDeltaLimit",value:e.movingDeltaLimit,onChange:r})]})]})}function w(){let{pointerPosition:t,pointerDelta:e,pointerState:i,pointerDeltaAdditive:n,pointerTargetInteractable:r}=y();return(0,s.jsxs)("div",{className:"grid grid-cols-5 mt-spacing-xs gap-spacing-xs text-xs text-left",children:[(0,s.jsxs)("span",{children:["State: ",(0,s.jsx)("br",{}),i]}),(0,s.jsxs)("span",{children:["Interactable: ",(0,s.jsx)("br",{}),r?"TRUE":"FALSE"]}),(0,s.jsxs)("span",{children:["Position: ",(0,s.jsx)("br",{}),t.x.toFixed(0),", ",t.y.toFixed(0)]}),(0,s.jsxs)("span",{children:["Last Delta: ",(0,s.jsx)("br",{}),e.x.toFixed(0),", ",e.y.toFixed(0)]}),(0,s.jsxs)("span",{children:["Delta Additive: ",(0,s.jsx)("br",{}),n.x.toFixed(0),", ",n.y.toFixed(0)]})]})}function T(){let{pointerState:t,pointerTargetInteractable:e,pointerEasedPosition:i}=y();return(0,s.jsx)("div",{className:"pointer","data-interactable":e,"data-state":t,style:{"--x":`${i.x}px`,"--y":`${i.y}px`},children:(0,s.jsx)("div",{className:"pointer-inside"})})}t.s(["default",()=>f],56629)}]);