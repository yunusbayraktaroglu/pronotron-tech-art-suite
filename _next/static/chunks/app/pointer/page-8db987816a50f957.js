(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{9977:function(t,e,s){Promise.resolve().then(s.bind(s,3051))},7610:function(t,e,s){"use strict";s.d(e,{A:function(){return o}});var i=s(7573),n=s(7653);function r(t){return(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:(0,i.jsx)("use",{href:"#close_icon"})})}function h(t){return(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:(0,i.jsx)("use",{href:"#expand_icon"})})}function o(t){let{expand:e=!0,title:s,children:o}=t,[l,a]=(0,n.useState)(e),d=l?"true":"false",c=l?"":" opacity-50";return(0,i.jsxs)("div",{className:"container flex flex-col py-spacing-sm landscape:py-spacing-sm"+c,children:[(0,i.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,i.jsx)("button",{type:"button","aria-haspopup":"true","aria-label":"Open Menu","aria-expanded":d,onClick:()=>a(t=>!t),children:(0,i.jsx)("h3",{className:"text-sm leading-none",children:s})}),(0,i.jsxs)("button",{type:"button","aria-haspopup":"true","aria-label":"Open Menu","aria-expanded":d,className:"group",onClick:()=>a(t=>!t),children:[(0,i.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,i.jsx)(h,{className:"h-5 w-5 hidden group-aria-[expanded=false]:block",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"}),(0,i.jsx)(r,{className:"h-5 w-5 hidden group-aria-[expanded=true]:block",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"})]})]}),l&&o]})}},3051:function(t,e,s){"use strict";let i;s.r(e),s.d(e,{default:function(){return T}});var n=s(7573),r=s(7653),h=s(7610),o=class{t(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];e.forEach(t=>{let[e,s,i]=t;this.i.addEventListener(e,s,null!=i?i:{passive:!1})})}h(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];e.forEach(t=>{let[e,s]=t;this.i.removeEventListener(e,s)})}o(t,e){this.i.dispatchEvent(new CustomEvent(t,{detail:e}))}},l=class{u(t,e){return this.x=t,this.y=e,this}l(t){return this.x=t.x,this.y=t.y,this}p(t){return this.x+=t.x,this.y+=t.y,this}_(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}v(){return this.x*this.x+this.y*this.y}constructor(t=0,e=0){this.x=t,this.y=e}},a=((i=a||{})[i.IDLE=0]="IDLE",i[i.PENDING=1]="PENDING",i[i.DRAGGING=2]="DRAGGING",i[i.MOVING=3]="MOVING",i[i.HOLDING=4]="HOLDING",i[i.HOLD_DRAGGING=5]="HOLD_DRAGGING",i[i.OUTSIDE=6]="OUTSIDE",i),d=class extends o{C(){return this.P?(console.warn("Already running"),!1):(this.P=!0,this.m=0,!0)}R(){this.P=!1,this.m=0}V(t){this.m=1;let{elapsedTime:e}=this.O.getTime();this.N=e,this.G.u(0,0),this.H=this.A(t.target)}k(t){switch(this.m){case 0:case 1:this.G.v()>this.T&&(this.m=3)}this.H=this.A(t.target),this.M.add({id:"IDLE",duration:this.L,autoPause:!1,onEnd:t=>{t||3!==this.m||(this.m=0)}})}q(t){let{elapsedTime:e}=this.O.getTime();e<this.N+this.S&&this.o("tap",{target:t.target,position:{x:this.D.x,y:this.D.y}}),this.m=0}U(t,e){this.I.u(t,e),this.G._(this.I,this.D),this.D.l(this.I)}constructor({target:t,animator:e,clock:s,idleThreshold:i,tapThreshold:n,movingDeltaLimit:r,isInteractable:h}){super(),this.P=!1,this.m=0,this.D=new l,this.I=new l,this.G=new l,this.L=.5,this.S=.25,this.T=10,this.N=0,this.H=!1,this.i=t,this.M=e,this.O=s,this.L=i,this.S=n,this.T=r,this.A=h}},c=class extends d{V(t){t.target&&this.F(t.target)&&this.M.add({id:"HOLD",duration:this.B,autoPause:!1,onEnd:e=>{e||1!==this.m||this.J(t)}}),super.V(t)}k(t){4!==this.m&&5!==this.m||(t.stopImmediatePropagation(),t.preventDefault(),this.m=5),super.k(t)}q(t){switch(this.j&&(this.m=4),this.m){case 5:case 4:this.K(t)}super.q(t)}J(t){this.m=4,this.o("hold",{target:t.target,position:{x:this.D.x,y:this.D.y}}),this.j=t.target,this.j.dataset.holded="1"}K(t){this.o("holdend",{target:this.j,endTarget:t.target,position:{x:this.D.x,y:this.D.y}}),this.j.dataset.holded="0",this.j=null}constructor(t){super(t),this.j=null,this.B=.35,this.B=t.holdThreshold,this.F=t.isHoldable}},u=class{updateSettings(t){this.W.T=t.movingDeltaLimit,this.W.S=t.tapThreshold,this.W.L=t.idleThreshold,"B"in this.W&&(this.W.B=t.holdThreshold)}getState(){return a[this.W.m]}canInteract(){return this.W.H}getPosition(){return this.W.D}getDelta(){return this.W.G}constructor(t){this.W="holdThreshold"in t?new c(t):new d(t)}},m=class extends u{startEvents(){this.W.C()&&this.W.t(["pointerdown",this.V],["pointermove",this.k],["pointerleave",this.Y],["dragstart",this.Z])}stopEvents(){this.W.R(),this.W.h(["pointerdown",this.V],["pointermove",this.k],["pointerup",this.q],["pointercancel",this.q],["pointerleave",this.Y],["dragstart",this.Z],["dragover",this.k],["dragend",this.$])}tt(t){return{x:t.clientX,y:t.clientY}}V(t){this.W.t(["pointerup",this.q],["pointercancel",this.q]),this.W.V(t)}q(t){this.X=!0,this.W.h(["pointerup",this.q],["pointercancel",this.q]),2!==this.W.m&&this.W.q(t)}k(t){if(this.X)return void(this.X=!1);let{x:e,y:s}=this.tt(t);this.W.U(e,s),2!==this.W.m&&(6===this.W.m&&(this.W.m=3),this.W.k(t))}Y(t){5===this.W.m&&this.W.q(t),this.W.m=6}Z(t){this.W.t(["dragover",this.k],["dragend",this.$]),this.W.m=2}$(t){this.W.h(["dragover",this.k],["dragend",this.$]),this.W.m=0}constructor(t){super(t),this.X=!1,this.V=this.V.bind(this),this.k=this.k.bind(this),this.q=this.q.bind(this),this.Y=this.Y.bind(this),this.Z=this.Z.bind(this),this.$=this.$.bind(this)}},x=class extends u{startEvents(){this.W.C()&&this.W.t(["touchstart",this.V])}stopEvents(){this.W.h(["touchstart",this.V],["touchmove",this.k],["touchend",this.q]),this.W.R()}tt(t){return{x:t.touches[0].clientX,y:t.touches[0].clientY}}V(t){this.W.t(["touchmove",this.k],["touchend",this.q]);let{x:e,y:s}=this.tt(t);this.W.D.u(e,s),this.W.V(t)}q(t){this.W.h(["touchmove",this.k],["touchend",this.q]),this.W.q(t)}k(t){let{x:e,y:s}=this.tt(t);this.W.U(e,s),this.W.k(t)}constructor(t){super(t),this.V=this.V.bind(this),this.k=this.k.bind(this),this.q=this.q.bind(this)}},p=s(2138);let g={tapThreshold:.25,idleThreshold:.5,holdThreshold:.75,movingDeltaLimit:10},v=(0,r.createContext)(void 0),f=()=>{let t=(0,r.useContext)(v);if(!t)throw Error("usePointerContext must be used within a PronotronPointerProvider");return t};function b(t){let{children:e}=t,s=(0,r.useRef)(new p.hd),i=(0,r.useRef)(new p.g0(s.current)),h=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let t={target:window.document.body,animator:i.current,clock:s.current,isInteractable:t=>!!(t.closest("a")||t.closest("button")||t.closest(".holdable")),isHoldable:t=>!!t.dataset.holded,...g};(0,p.b1)()?h.current=new x(t):h.current=new m(t),h.current.startEvents();let e=0,n=()=>{s.current.tick(),i.current.tick(),e=requestAnimationFrame(n)};e=requestAnimationFrame(n);let r=()=>{document.hidden?s.current.pause():s.current.resume()};return document.addEventListener("visibilitychange",r),()=>{cancelAnimationFrame(e),document.removeEventListener("visibilitychange",r),h.current.stopEvents()}},[]),(0,r.useEffect)(()=>{let t=t=>{document.documentElement.classList.add("holding"),console.log("HOLD",t)},e=t=>{document.documentElement.classList.remove("holding"),console.log("HOLD-END",t)},s=t=>{console.log("TAP",t)};return window.document.body.addEventListener("hold",t),window.document.body.addEventListener("holdend",e),window.document.body.addEventListener("tap",s),()=>{window.document.body.removeEventListener("hold",t),window.document.body.removeEventListener("holdend",e),window.document.body.removeEventListener("tap",s)}},[]),(0,n.jsx)(v.Provider,{value:{pointerController:h},children:e})}let y=(0,r.createContext)(void 0),j=()=>{let t=(0,r.useContext)(y);if(!t)throw Error("usePointerDataContext must be used within a PronotronPointerDataProvider");return t};function w(t){let{children:e}=t,{pointerController:s}=f(),[i,h]=(0,r.useState)({x:0,y:0}),[o,l]=(0,r.useState)({x:0,y:0}),[a,d]=(0,r.useState)({x:0,y:0}),[c,u]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),p=(0,r.useRef)({x:0,y:0});return(0,r.useEffect)(()=>{let t=0,e=()=>{let i=s.current.getPosition();p.current.x+=(i.x-p.current.x)*.15,p.current.y+=(i.y-p.current.y)*.15,h({x:i.x,y:i.y}),l({x:p.current.x,y:p.current.y}),d(s.current.getDelta()),u(s.current.getState()),x(s.current.canInteract()),t=requestAnimationFrame(e)};return t=requestAnimationFrame(e),()=>{cancelAnimationFrame(t)}},[]),(0,n.jsx)(y.Provider,{value:{pointerPosition:i,pointerEasedPosition:o,pointerDelta:a,pointerTargetInteractable:m,pointerState:c},children:e})}function T(){return(0,r.useEffect)(()=>(document.body.classList.add("custom-cursor"),()=>{document.body.classList.remove("custom-cursor")}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{children:(0,n.jsxs)(w,{children:[(0,n.jsx)(E,{}),(0,n.jsxs)("div",{className:"sticky top-0 z-50",children:[(0,n.jsx)("div",{className:"bg-black/20",children:(0,n.jsx)(h.A,{title:"Pointer Debug",expand:!0,children:(0,n.jsx)(D,{})})}),(0,n.jsx)("div",{className:"bg-black/10",children:(0,n.jsx)(h.A,{title:"Pointer Settings",expand:!1,children:(0,n.jsx)(k,{})})})]})]})}),(0,n.jsx)("div",{className:"container flex flex-col my-spacing-lg",children:(0,n.jsxs)("div",{className:"flex flex-col landscape:flex-row items-center justify-center h-[80vh] relative bg-slate-200 p-spacing-base gap-spacing-base",children:[(0,n.jsx)("a",{href:"#",className:"text-black text-xl leading-none hover:underline",children:"Link"}),(0,n.jsx)("button",{className:"text-white text-xl py-3 px-spacing-lg leading-none rounded-full transition-colors bg-orange-600 hover:bg-orange-700",children:"Button"}),(0,n.jsx)("div",{"data-holded":"0",className:"holdable flex items-center justify-center bg-purple-500 text-white rounded-lg py-3 px-spacing-lg group",children:(0,n.jsxs)("div",{className:"pointer-events-none select-none",children:[(0,n.jsx)("p",{className:"text-xl group-data-[holded=1]:hidden",children:"Holdable"}),(0,n.jsx)("p",{className:"text-xl group-data-[holded=0]:hidden",children:"Holded"})]})})]})})]})}function k(){let{pointerController:t}=f(),[e,s]=(0,r.useState)(g);(0,r.useEffect)(()=>{t&&t.current.updateSettings(e)},[e]);let i=t=>{let{name:e,value:i}=t.target;s(t=>({...t,[e]:Number(i)}))};return(0,n.jsxs)("div",{className:"form grid gap-spacing-sm grid-rows-2 grid-cols-2 landscape:grid-cols-4 landscape:grid-rows-1",children:[(0,n.jsxs)("fieldset",{children:[(0,n.jsxs)("label",{htmlFor:"tapThreshold",children:["Tap Threshold ",(0,n.jsx)("small",{children:"(sec)"})]}),(0,n.jsx)("input",{className:"w-full",type:"number",min:.1,step:.1,name:"tapThreshold",id:"tapThreshold",value:e.tapThreshold,onChange:i})]}),(0,n.jsxs)("fieldset",{children:[(0,n.jsxs)("label",{htmlFor:"idleThreshold",children:["Idle Threshold ",(0,n.jsx)("small",{children:"(sec)"})]}),(0,n.jsx)("input",{className:"w-full",type:"number",min:.1,step:.1,name:"idleThreshold",id:"idleThreshold",value:e.idleThreshold,onChange:i})]}),(0,n.jsxs)("fieldset",{children:[(0,n.jsxs)("label",{htmlFor:"holdThreshold",children:["Hold Threshold ",(0,n.jsx)("small",{children:"(sec)"})]}),(0,n.jsx)("input",{className:"w-full",type:"number",min:.1,step:.1,name:"holdThreshold",id:"holdThreshold",value:e.holdThreshold,onChange:i})]}),(0,n.jsxs)("fieldset",{children:[(0,n.jsxs)("label",{htmlFor:"movingDeltaLimit",children:["Moving Delta ",(0,n.jsx)("small",{children:"(px)"})]}),(0,n.jsx)("input",{className:"w-full",type:"number",min:1,step:1,name:"movingDeltaLimit",id:"movingDeltaLimit",value:e.movingDeltaLimit,onChange:i})]})]})}function D(){let{pointerPosition:t,pointerDelta:e,pointerState:s,pointerTargetInteractable:i}=j();return(0,n.jsxs)("div",{className:"grid grid-cols-4 mt-spacing-xs gap-spacing-xs text-xs text-center",children:[(0,n.jsxs)("span",{children:["State: ",(0,n.jsx)("br",{}),s]}),(0,n.jsxs)("span",{children:["Interactable: ",(0,n.jsx)("br",{}),i?"TRUE":"FALSE"]}),(0,n.jsxs)("span",{children:["Position: ",(0,n.jsx)("br",{}),t.x.toFixed(0),", ",t.y.toFixed(0)]}),(0,n.jsxs)("span",{children:["Delta: ",(0,n.jsx)("br",{}),e.x.toFixed(0),", ",e.y.toFixed(0)]})]})}function E(){let{pointerState:t,pointerTargetInteractable:e,pointerEasedPosition:s}=j();return(0,n.jsx)("div",{className:"pointer","data-interactable":e,"data-state":t,style:{"--x":"".concat(s.x,"px"),"--y":"".concat(s.y,"px")},children:(0,n.jsx)("div",{className:"pointer-inside"})})}},2138:function(t,e,s){"use strict";s.d(e,{KI:function(){return r},b1:function(){return l},g0:function(){return o},hd:function(){return i},oo:function(){return h}});var i=class{tick(){return this.t||this.p(),this.v()}pause(){this.l=n()}resume(){this.u+=(n()-this.l)/1e3}getTime(){return{elapsedTime:this.o,elapsedPausedTime:this.m}}p(){this.i=n(),this.h=this.i,this.t=!0}v(){let t=n(),e=(t-this.h)/1e3;return this.h=t,this.o+=e,this.m=this.o-this.u,e}constructor(){this.t=!1,this.i=0,this.h=0,this.o=0,this.l=0,this.u=0,this.m=0}};function n(){return performance.now()}var r=class{add(t,e){this.isExist(t)&&console.warn("ID: '".concat(t,"' already exist in the table."));let s=this.I(),i=s*this.stride;for(let[t,s]of Object.entries(e))this.table[i+Number(t)]=s;this.P.set(t,s),this.T.set(s,t),this.usedSlots+=1}remove(t){let e=this.M(t);if(e===this.usedSlots-1)this.T.delete(e);else{let t=this.usedSlots-1,s=this.T.get(t),i=t*this.stride,n=e*this.stride;for(let t=0;t<this.stride;t++)this.table[n+t]=this.table[i+t];this.P.set(s,e),this.T.set(e,s),this.T.delete(t)}this.P.delete(t),this.usedSlots-=1}getData(t,e){let s=this.M(t)*this.stride;return this.table[s+e]}modifyByID(t,e){let s=this.M(t);this.modifyByPosition(s,e)}modifyByPosition(t,e){let s=t*this.stride;for(let[t,i]of Object.entries(e))this.table[s+Number(t)]=i}isExist(t){return this.P.has(t)}M(t){let e=this.P.get(t);if(void 0===e)throw Error("ID: '".concat(t,"' is not found in the table."));return e}I(){return this.usedSlots===this.D&&this._(),this.usedSlots}_(){let t=2*this.D,e=new this.table.constructor(t*this.stride);e.set(this.table),this.table=e,this.D=t}constructor(t,e,s){this.usedSlots=0,this.P=new Map,this.T=new Map,this.table=new e(t*s),this.stride=t,this.D=s}},h=class{get(){for(let t=0;t<this.B.length;t++)if(!this.B[t])return t;let t=this.A;return this._(),t}consume(t){this.B[t]=1}release(t){this.B[t]=0}_(){let t=2*this.A,e=new Uint8Array(t);e.set(this.B),this.B=e,this.A=t}constructor(t){this.A=t,this.B=new Uint8Array(t)}},o=class{add(t){this.j.isExist(t.id)&&this.remove(t.id,!0);let{elapsedTime:e,elapsedPausedTime:s}=this.k.getTime(),i=this.$.get(),n=t.autoPause?s:e,r=t.duration||0,h=n+(t.delay||0);this.j.add(t.id,{0:i,1:r,2:h,3:h+r,4:t.onRender?1:0,5:t.autoPause?0:1,6:0}),this.O.set(t.id,i),this.$.consume(i),this.S[i]=t}remove(t){var e,s;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.O.get(t);void 0!==n?(null==(s=(e=this.S[n]).onEnd)||s.call(e,i),this.C(n)):console.warn("AnimationID: '".concat(t,"' does not exist."))}tick(){var t,e;let{table:s,usedSlots:i,stride:n}=this.j,{elapsedTime:r,elapsedPausedTime:h}=this.k.getTime();for(let o=0;o<i;o++){let i=o*n,l=1===s[i+5]?r:h,a=s[i+2];if(l<a)continue;let d=s[i+0],c=s[i+1],u=this.S[d];0===s[i+6]&&(s[i+6]=1,null==(t=u.onBegin)||t.call(u)),s[i+4]&&u.onRender(l,a,c),l>s[i+3]&&(null==(e=u.onEnd)||e.call(u,!1),this.C(d))}}C(t){let e=this.S[t].id;this.j.remove(e),this.O.delete(e),this.$.release(t),this.S[t]=void 0}constructor(t,e=20){this.O=new Map,this.S=[],this.k=t,this.$=new h(e),this.j=new r(7,Float32Array,e)}};function l(){let t=!1;if("maxTouchPoints"in navigator)t=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)t=navigator.msMaxTouchPoints>0;else{let e=matchMedia&&matchMedia("(pointer:coarse)");if(e&&"(pointer:coarse)"===e.media)t=!!e.matches;else if("orientation"in window)t=!0;else{let e=navigator.userAgent;t=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(e)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(e)}}return t}}},function(t){t.O(0,[293,528,744],function(){return t(t.s=9977)}),_N_E=t.O()}]);