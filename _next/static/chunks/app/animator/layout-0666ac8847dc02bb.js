(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{9354:function(t,e,i){Promise.resolve().then(i.bind(i,8476))},8476:function(t,e,i){"use strict";i.d(e,{PronotronAnimatorProvider:function(){return c},w:function(){return o}});var s=i(7573),n=i(7653),h=i(2138),r=i(1378);let a=new h.hd,o=new h.g0(a,50),l=(0,n.createContext)(void 0);function c(t){let{children:e}=t;return(0,n.useEffect)(()=>{let t=0,e=()=>{a.tick(),r.ot.begin(),o.tick(),r.ot.end(),t=requestAnimationFrame(e)};t=requestAnimationFrame(e);let i=()=>{document.hidden?a.pause():a.resume()};return document.addEventListener("visibilitychange",i),()=>{cancelAnimationFrame(t),r.ot.resetPanels(),document.removeEventListener("visibilitychange",i)}},[]),(0,s.jsx)(l.Provider,{value:{animator:o},children:e})}},1378:function(t,e,i){"use strict";i.d(e,{PronotronStatsComponent:function(){return l},ot:function(){return o}});var s=i(7573),n=i(7653),h=i(5544);class r{build(){this.pixelRatio=1,this.table={FONTSIZE:9,WIDTH:80,HEIGHT:48,TEXT_X:3,TEXT_Y:2,GRAPH_X:3,GRAPH_Y:15,GRAPH_WIDTH:74,GRAPH_HEIGHT:30},this.createCanvas()}createCanvas(){let t=this.name,{FONTSIZE:e,WIDTH:i,HEIGHT:s,TEXT_X:n,TEXT_Y:h,GRAPH_X:r,GRAPH_Y:a,GRAPH_WIDTH:o,GRAPH_HEIGHT:l}=this.table,c=document.createElement("canvas");c.width=i,c.height=s,c.style.cssText="width:".concat(i,"px;height:").concat(s,"px");let u=c.getContext("2d");u.font="bold ".concat(e,"px Helvetica,Arial,sans-serif"),u.textBaseline="top",u.fillStyle=this.bg,u.fillRect(0,0,i,s),u.fillStyle=this.fg,u.fillText(t,n,h),u.fillRect(r,a,o,l),u.fillStyle=this.bg,u.globalAlpha=.9,u.fillRect(r,a,o,l),this.canvas=c,this.context=u}update(t){let e=this.pixelRatio,{WIDTH:i,HEIGHT:s,TEXT_X:n,TEXT_Y:h,GRAPH_X:r,GRAPH_Y:a,GRAPH_WIDTH:o,GRAPH_HEIGHT:l}=this.table;this.min=Math.min(this.min,t),this.max=Math.max(this.max,t),this.context.fillStyle=this.bg,this.context.globalAlpha=1,this.context.fillRect(0,0,i,a),this.context.fillStyle=this.fg,this.context.fillText("".concat(Math.round(t)," ").concat(this.name," (").concat(Math.round(this.min)," - ").concat(Math.round(this.max),")"),n,h),this.context.drawImage(this.canvas,r+e,a,o-e,l,r,a,o-e,l),this.context.fillRect(r+o-e,a,e,l),this.context.fillStyle=this.bg,this.context.globalAlpha=.75,this.context.fillRect(r+o-e,a,e,Math.round((1-t/this.maxLimit)*l))}clearCanvas(){let{WIDTH:t,HEIGHT:e}=this.table;this.context.fillStyle=this.bg,this.context.globalAlpha=1,this.context.fillRect(0,0,t,e)}constructor(t,e,i){this.min=1/0,this.max=0,this.maxLimit=0,this.name=t,this.fg=e,this.bg=i}}class a{build(){this.ready||(this.fps.build(),this.ms.build(),this.mb.build(),this.fps.maxLimit=100,this.ms.maxLimit=2,this.ready=!0)}begin(){this.beginTime=performance.now()}end(){this.frames++;let t=performance.now();return this.ms.update(t-this.beginTime),this.ms.maxLimit=2*this.ms.max,t>=this.prevTime+1e3&&(this.fps.update(1e3*this.frames/(t-this.prevTime)),this.prevTime=t,this.frames=0),t}getPanels(){return[this.fps.canvas,this.ms.canvas]}resetPanels(){this.fps.clearCanvas(),this.ms.clearCanvas(),this.frames=0}constructor(){this.ready=!1,this.frames=0,this.fps=new r("FPS","#0ff","#002"),this.ms=new r("MS","#0f0","#020"),this.mb=new r("MB","#f08","#201"),this.beginTime=performance.now(),this.prevTime=this.beginTime}}let o=new a;function l(){let t=(0,n.useRef)(null),{showStats:e}=(0,h.W)();return(0,n.useEffect)(()=>{o.build();let e=t.current,i=o.getPanels();for(;e.firstChild;)e.removeChild(e.firstChild);i.forEach(t=>e.appendChild(t))},[]),(0,s.jsx)("div",{id:"performance-stats",className:"fixed flex flex-col left-2 bottom-2 opacity-[1] z-[999] space-y-[1px]"+(e?"":" hidden"),ref:t})}},5544:function(t,e,i){"use strict";i.d(e,{PerformanceStatsProvider:function(){return r},W:function(){return a}});var s=i(7573),n=i(7653);let h=(0,n.createContext)(null);function r(t){let{children:e}=t,[i,r]=(0,n.useState)(!1);return(0,s.jsx)(h.Provider,{value:{showStats:i,setShowStats:r},children:e})}let a=()=>{let t=(0,n.useContext)(h);if(!t)throw Error("useAppTicker must be used within an AppTickerProvider");return t}},2138:function(t,e,i){"use strict";i.d(e,{KI:function(){return h},b1:function(){return o},g0:function(){return a},hd:function(){return s},oo:function(){return r}});var s=class{tick(){return this.t||this.p(),this.v()}pause(){this.l=n()}resume(){this.u+=(n()-this.l)/1e3}getTime(){return{elapsedTime:this.o,elapsedPausedTime:this.m}}p(){this.i=n(),this.h=this.i,this.t=!0}v(){let t=n(),e=(t-this.h)/1e3;return this.h=t,this.o+=e,this.m=this.o-this.u,e}constructor(){this.t=!1,this.i=0,this.h=0,this.o=0,this.l=0,this.u=0,this.m=0}};function n(){return performance.now()}var h=class{add(t,e){this.isExist(t)&&console.warn("ID: '".concat(t,"' already exist in the table."));let i=this.I(),s=i*this.stride;for(let[t,i]of Object.entries(e))this.table[s+Number(t)]=i;this.P.set(t,i),this.T.set(i,t),this.usedSlots+=1}remove(t){let e=this.M(t);if(e===this.usedSlots-1)this.T.delete(e);else{let t=this.usedSlots-1,i=this.T.get(t),s=t*this.stride,n=e*this.stride;for(let t=0;t<this.stride;t++)this.table[n+t]=this.table[s+t];this.P.set(i,e),this.T.set(e,i),this.T.delete(t)}this.P.delete(t),this.usedSlots-=1}getData(t,e){let i=this.M(t)*this.stride;return this.table[i+e]}modifyByID(t,e){let i=this.M(t);this.modifyByPosition(i,e)}modifyByPosition(t,e){let i=t*this.stride;for(let[t,s]of Object.entries(e))this.table[i+Number(t)]=s}isExist(t){return this.P.has(t)}M(t){let e=this.P.get(t);if(void 0===e)throw Error("ID: '".concat(t,"' is not found in the table."));return e}I(){return this.usedSlots===this.D&&this._(),this.usedSlots}_(){let t=2*this.D,e=new this.table.constructor(t*this.stride);e.set(this.table),this.table=e,this.D=t}constructor(t,e,i){this.usedSlots=0,this.P=new Map,this.T=new Map,this.table=new e(t*i),this.stride=t,this.D=i}},r=class{get(){for(let t=0;t<this.B.length;t++)if(!this.B[t])return t;let t=this.A;return this._(),t}consume(t){this.B[t]=1}release(t){this.B[t]=0}_(){let t=2*this.A,e=new Uint8Array(t);e.set(this.B),this.B=e,this.A=t}constructor(t){this.A=t,this.B=new Uint8Array(t)}},a=class{add(t){this.j.isExist(t.id)&&this.remove(t.id,!0);let{elapsedTime:e,elapsedPausedTime:i}=this.k.getTime(),s=this.$.get(),n=t.autoPause?i:e,h=t.duration||0,r=n+(t.delay||0);this.j.add(t.id,{0:s,1:h,2:r,3:r+h,4:t.onRender?1:0,5:t.autoPause?0:1,6:0}),this.O.set(t.id,s),this.$.consume(s),this.S[s]=t}remove(t){var e,i;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.O.get(t);void 0!==n?(null==(i=(e=this.S[n]).onEnd)||i.call(e,s),this.C(n)):console.warn("AnimationID: '".concat(t,"' does not exist."))}tick(){var t,e;let{table:i,usedSlots:s,stride:n}=this.j,{elapsedTime:h,elapsedPausedTime:r}=this.k.getTime();for(let a=0;a<s;a++){let s=a*n,o=1===i[s+5]?h:r,l=i[s+2];if(o<l)continue;let c=i[s+0],u=i[s+1],d=this.S[c];0===i[s+6]&&(i[s+6]=1,null==(t=d.onBegin)||t.call(d)),i[s+4]&&d.onRender(o,l,u),o>i[s+3]&&(null==(e=d.onEnd)||e.call(d,!1),this.C(c))}}C(t){let e=this.S[t].id;this.j.remove(e),this.O.delete(e),this.$.release(t),this.S[t]=void 0}constructor(t,e=20){this.O=new Map,this.S=[],this.k=t,this.$=new r(e),this.j=new h(7,Float32Array,e)}};function o(){let t=!1;if("maxTouchPoints"in navigator)t=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)t=navigator.msMaxTouchPoints>0;else{let e=matchMedia&&matchMedia("(pointer:coarse)");if(e&&"(pointer:coarse)"===e.media)t=!!e.matches;else if("orientation"in window)t=!0;else{let e=navigator.userAgent;t=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(e)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(e)}}return t}}},function(t){t.O(0,[293,528,744],function(){return t(t.s=9354)}),_N_E=t.O()}]);