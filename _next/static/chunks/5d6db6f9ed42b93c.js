(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12032,e=>{"use strict";var t=e.i(43476),o=e.i(71645),s=e.i(19926);function n({dispatch:e,offset:n,onRemoveNode:l,...r}){let i=(0,o.useRef)(null),a=(0,s.usePronotronIOContext)(e=>e.io);return(0,o.useEffect)(()=>{let t=i.current,o=a.addNode({ref:t,dispatch:e,offset:n,onRemoveNode:l,getBounds:()=>{let{top:e,bottom:o}=t.getBoundingClientRect();return{start:e+window.scrollY,end:o+window.scrollY}}});return()=>{!1!==o&&a.removeNode(t)}},[]),(0,t.jsx)("div",{ref:i,...r,"data-io":"1"})}function l({dispatch:e,offset:n,onRemoveNode:l,...r}){let i=(0,o.useRef)(null),a=(0,s.usePronotronIOContext)(e=>e.io),[c,d]=(0,o.useState)({top:0,bottom:0});(0,o.useEffect)(()=>{let t=i.current,o=a.addNode({ref:t,dispatch:e,offset:n,onRemoveNode:l,getBounds:()=>{let{top:e,bottom:o}=t.getBoundingClientRect(),s=e+window.scrollY,n=o+window.scrollY;return d({top:s,bottom:n}),{start:s,end:n}}});return()=>{!1!==o&&a.removeNode(t)}},[]);let u="absolute w-[10px] h-[10px] bg-red-500 rounded-full";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{ref:i,...r,"data-io":"1"}),(0,t.jsx)("span",{className:u,style:{top:`${Math.round(c.top-5)}px`},children:(0,t.jsx)("p",{className:"text-xs leading-none ml-[12px]",children:Math.round(c.top)})}),(0,t.jsx)("span",{className:u,style:{top:`${Math.round(c.bottom-5)}px`},children:(0,t.jsx)("p",{className:"text-xs leading-none ml-[12px]",children:Math.round(c.bottom)})})]})}e.s(["IODispatcher",()=>n,"IODispatcherDebug",()=>l])},64649,e=>{"use strict";var t=e.i(71645);function o(e){let[o,s]=(0,t.useState)(e),n=(0,t.useCallback)(e=>{let{name:t,value:o,type:n}=e.target;s(e=>{let s=o;return"number"===n&&(s=""===o?null:Number(o)),{...e,[t]:s}})},[]),l=(0,t.useCallback)(e=>{let{name:t,checked:o}=e.target;s(e=>({...e,[t]:o}))},[]);return{values:o,handleInputChange:n,handleCheckboxChange:l,handleSelectChange:(0,t.useCallback)(e=>{let{name:t,value:o}=e.target;s(e=>({...e,[t]:o}))},[]),resetForm:(0,t.useCallback)(()=>{s(e)},[e]),setValues:s}}e.s(["useForm",()=>o])},29821,e=>{"use strict";var t=e.i(43476),o=e.i(71645),s=e.i(64649),n=e.i(12032);let l={onEnter:!0,onExit:!0,onScrollProgress:!0,onInViewport:!0,onBottomEnter:!0,onBottomExit:!0,onTopEnter:!0,onTopExit:!0},r=Object.keys(l);function i(){let[e,s]=(0,o.useState)(!1);return(0,t.jsxs)("div",{className:"container mb-spacing-3xl",children:[(0,t.jsxs)("div",{className:"bg-slate-200 p-spacing-lg rounded-lg",children:[e&&(0,t.jsxs)("p",{className:"text-green-800 mb-5",children:["Created ",e.ioNodeCount," node. Scroll down to see effects. Check starts for performance."]}),(0,t.jsx)(a,{runTestScenario:s})]}),e&&(0,t.jsx)(c,{testScenario:e})]})}function a({runTestScenario:e}){let{values:n,handleInputChange:i,handleCheckboxChange:a,handleSelectChange:c}=(0,s.useForm)({ioNodeCount:1e3,dispatchType:"modify_dom",onFastForward:"skip_both",...l}),d=(0,o.useCallback)(t=>{t.preventDefault(),e(n)},[n]),u=(0,o.useMemo)(()=>r.every(e=>!1===n[e]),[n]);return(0,t.jsx)("div",{className:"form",children:(0,t.jsxs)("fieldset",{className:"flex flex-col landscape:flex-row justify-between items-start gap-5",children:[(0,t.jsxs)("fieldset",{className:"grid grid-rows-1 grid-cols-1 landscape:grid-cols-4 landscape:grid-rows-1 gap-5",children:[(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("label",{htmlFor:"ioNodeCount",children:"IO Node count"}),(0,t.jsx)("input",{className:"w-full",type:"number",min:100,name:"ioNodeCount",id:"ioNodeCount",value:n.ioNodeCount,onChange:i})]}),(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("label",{htmlFor:"dispatch-type",children:"Dispatch type"}),(0,t.jsxs)("select",{onChange:c,name:"dispatchType",id:"dispatch-type",className:"w-full",children:[(0,t.jsx)("option",{value:"modify_dom",children:"Modify dom"}),(0,t.jsx)("option",{value:"console_log",children:"Console log"}),(0,t.jsx)("option",{value:"never",children:"Never (useful for iteration speed)"})]})]}),(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("label",{htmlFor:"fast-forward",children:"Fast-forward behavior"}),(0,t.jsxs)("select",{onChange:c,name:"onFastForward",id:"fast-forward",className:"w-full",children:[(0,t.jsx)("option",{value:"skip_both",children:"Skip both (default)"}),(0,t.jsx)("option",{value:"execute_both",children:"Execute both events"}),(0,t.jsx)("option",{value:"execute_last",children:"Execute last event"})]})]}),(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("label",{children:"Track events"}),(0,t.jsx)("fieldset",{className:"checkbox",children:r.map(e=>(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("input",{type:"checkbox",name:e,id:`${e}_id`,checked:n[e],onChange:a}),(0,t.jsx)("label",{htmlFor:`${e}_id`,children:e})]},`${e}`))})]})]}),(0,t.jsx)("button",{"aria-disabled":u,disabled:u,onClick:d,className:"block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full transition-colors disabled:bg-slate-400",children:"Create IO nodes"})]})})}function c({testScenario:e}){let{ioNodeCount:o,dispatchType:s,...l}=e;switch(s){case"modify_dom":return Array.from({length:o}).map((e,o)=>(0,t.jsx)(d,{index:o,...l},`${o}`));case"console_log":return Array.from({length:o}).map((e,o)=>(0,t.jsx)(n.IODispatcher,{className:"bg-green-500 my-[120vh]",offset:0,dispatch:{onFastForward:l.onFastForward,...function(e,t){let o={onScrollProgress:t=>console.log(`Node ${e} scroll-progress: ${t}`),onInViewport:t=>console.log(`Node ${e} viewport-position: ${t}`),onEnter:()=>console.log("Enter!"),onExit:()=>console.log("Exit!"),onTopEnter:()=>console.log("Top-enter!"),onTopExit:()=>console.log("Top-exit!"),onBottomEnter:()=>console.log("Bottom-enter!"),onBottomExit:()=>console.log("Bottom-exit!")},s={};for(let[e,n]of Object.entries(t))if(n){let t=o[e];Object.assign(s,{[e]:t})}return s}(o,l)},children:(0,t.jsx)("p",{className:"text-center py-spacing-lg",children:o})},`${o}`))}}function d({index:e,onFastForward:s,...l}){let[r,i]=(0,o.useState)(0),[a,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(!1),x=(0,o.useMemo)(()=>(function(e,{setScrollProgress:t,setPosition:o,setState:s}){let n={onScrollProgress:e=>t(e),onInViewport:e=>o(e),onEnter:()=>s("Enter!"),onExit:()=>s("Exit!"),onTopEnter:()=>s("Top-enter!"),onTopExit:()=>s("Top-exit!"),onBottomEnter:()=>s("Bottom-enter!"),onBottomExit:()=>s("Bottom-exit!")},l={};for(let[t,o]of Object.entries(e))if(o){let e=n[t];Object.assign(l,{[t]:e})}return l})(l,{setScrollProgress:c,setPosition:i,setState:u}),[]);return(0,t.jsxs)("div",{className:"my-[120vh] text-center",children:[(0,t.jsxs)("p",{children:[(0,t.jsxs)("strong",{children:["#",e,":"]})," Last recorded event: ",d||null]}),(0,t.jsxs)(n.IODispatcher,{className:"bg-green-500 my-spacing-sm py-spacing-xl",offset:0,dispatch:{onFastForward:s,...x},children:[(0,t.jsxs)("p",{children:["Scroll Progress: ",a.toFixed(2)]}),(0,t.jsxs)("p",{children:["Normalized Position: ",r.toFixed(2)]})]}),(0,t.jsxs)("p",{children:[(0,t.jsxs)("strong",{children:["#",e,":"]})," Last recorded event: ",d||null]})]})}e.s(["default",()=>i])}]);