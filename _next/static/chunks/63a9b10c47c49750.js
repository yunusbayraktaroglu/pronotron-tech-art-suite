(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,85035,t=>{"use strict";var e=class{constructor(){this.t=!1,this.i=0,this.h=0,this.o=0,this.l=0,this.u=0,this.m=0}tick(){return this.t||this.p(),this.v()}pause(){this.l=s()}resume(){this.u+=(s()-this.l)/1e3}getTime(){return{elapsedTime:this.o,elapsedPausedTime:this.m}}p(){this.i=s(),this.h=this.i,this.t=!0}v(){let t=s(),e=(t-this.h)/1e3;return this.h=t,this.o+=e,this.m=this.o-this.u,e}};function s(){return performance.now()}var i=class{constructor(t,e,s){this.usedSlots=0,this.P=new Map,this.T=new Map,this.table=new e(t*s),this.stride=t,this.M=s}add(t,e){if(this.isExist(t))return void console.warn(`ID: '${t}' already exist in the table.`);let s=this.D(),i=s*this.stride;for(let[t,s]of Object.entries(e))this.table[i+Number(t)]=s;this.P.set(t,s),this.T.set(s,t),this.usedSlots+=1}remove(t){let e=this.I(t);if(e===this.usedSlots-1)this.T.delete(e);else{let t=this.usedSlots-1,s=this.T.get(t),i=t*this.stride,n=e*this.stride;for(let t=0;t<this.stride;t++)this.table[n+t]=this.table[i+t];this.P.set(s,e),this.T.set(e,s),this.T.delete(t)}this.P.delete(t),this.usedSlots-=1}getData(t,e){let s=this.I(t)*this.stride;return this.table[s+e]}modifyByID(t,e){let s=this.I(t);this.modifyByPosition(s,e)}modifyByPosition(t,e){let s=t*this.stride;for(let[t,i]of Object.entries(e))this.table[s+Number(t)]=i}isExist(t){return this.P.has(t)}I(t){let e=this.P.get(t);if(void 0===e)throw Error(`ID: '${t}' is not found in the table.`);return e}D(){return this.usedSlots===this.M&&this._(),this.usedSlots}_(){let t=2*this.M,e=new this.table.constructor(t*this.stride);e.set(this.table),this.table=e,this.M=t}},n=class{constructor(t){this.A=t,this.S=new Uint8Array(t)}get(){for(let t=0;t<this.S.length;t++)if(!this.S[t])return t;let t=this.A;return this._(),t}consume(t){this.S[t]=1}release(t){this.S[t]=0}_(){let t=2*this.A,e=new Uint8Array(t);e.set(this.S),this.S=e,this.A=t}},r=class{constructor(t,e=20){this.B=new Map,this.O=[],this.k=t,this.$=new n(e),this.j=new i(7,Float32Array,e)}add(t){this.j.isExist(t.id)&&this.remove(t.id,!0);let{elapsedTime:e,elapsedPausedTime:s}=this.k.getTime(),i=this.$.get(),n=t.autoPause?s:e,r=t.duration||0,h=n+(t.delay||0);this.j.add(t.id,{0:i,1:r,2:h,3:h+r,4:+!!t.onRender,5:+!t.autoPause,6:0}),this.B.set(t.id,i),this.$.consume(i),this.O[i]=t}remove(t,e=!1){var s,i;let n=this.B.get(t);void 0!==n?(null==(i=(s=this.O[n]).onEnd)||i.call(s,e),this.C(n)):console.warn(`AnimationID: '${t}' does not exist.`)}tick(){var t,e;let{table:s,usedSlots:i,stride:n}=this.j,{elapsedTime:r,elapsedPausedTime:h}=this.k.getTime();for(let o=0;o<i;o++){let i=o*n,l=1===s[i+5]?r:h,a=s[i+2];if(l<a)continue;let d=s[i+0],c=s[i+1],u=this.O[d];0===s[i+6]&&(s[i+6]=1,null==(t=u.onBegin)||t.call(u)),s[i+4]&&u.onRender(l,a,c),l>s[i+3]&&(null==(e=u.onEnd)||e.call(u,!1),this.C(d))}}C(t){let e=this.O[t].id;this.j.remove(e),this.B.delete(e),this.$.release(t),this.O[t]=void 0}},h=class{constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}add(t){return this.x+=t.x,this.y+=t.y,this}sub(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}lengthSq(){return this.x*this.x+this.y*this.y}clamp(t,e){return this.x=o(this.x,t.x,e.x),this.y=o(this.y,t.y,e.y),this}copy(t){return this.x=t.x,this.y=t.y,this}*[Symbol.iterator](){yield this.x,yield this.y}};function o(t,e,s){return Math.max(e,Math.min(s,t))}function l(){let t=!1;if("maxTouchPoints"in navigator)t=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)t=navigator.msMaxTouchPoints>0;else{let e=matchMedia&&matchMedia("(pointer:coarse)");if(e&&"(pointer:coarse)"===e.media)t=!!e.matches;else if("orientation"in window)t=!0;else{let e=navigator.userAgent;t=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(e)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(e)}}return t}t.s(["IDPool",()=>n,"NativeControlTable",()=>i,"PronotronAnimator",()=>r,"PronotronClock",()=>e,"Vector2",()=>h,"isTouchDevice",()=>l])},85152,t=>{"use strict";var e=t.i(43476),s=t.i(71645);function i(t){return(0,e.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:(0,e.jsx)("use",{href:"#close_icon"})})}function n(t){return(0,e.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:(0,e.jsx)("use",{href:"#expand_icon"})})}function r({expand:t=!0,title:r,children:h}){let[o,l]=(0,s.useState)(t),a=o?"true":"false",d=o?"":" opacity-50";return(0,e.jsxs)("div",{className:"container flex flex-col py-spacing-sm landscape:py-spacing-sm"+d,children:[(0,e.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,e.jsx)("button",{type:"button","aria-haspopup":"true","aria-label":"Open Menu","aria-expanded":a,onClick:()=>l(t=>!t),children:(0,e.jsx)("h3",{className:"text-sm leading-none",children:r})}),(0,e.jsxs)("button",{type:"button","aria-haspopup":"true","aria-label":"Open Menu","aria-expanded":a,className:"group",onClick:()=>l(t=>!t),children:[(0,e.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,e.jsx)(n,{className:"h-5 w-5 hidden group-aria-[expanded=false]:block",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"}),(0,e.jsx)(i,{className:"h-5 w-5 hidden group-aria-[expanded=true]:block",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"})]})]}),o&&h]})}t.s(["Expandable",()=>r],85152)},56629,t=>{"use strict";let e;var s=t.i(43476),i=t.i(71645),n=t.i(85152),r=t.i(85035),h=class{t(...t){t.forEach(([t,e,s])=>{this.i.addEventListener(t,e,null!=s?s:{passive:!1})})}h(...t){t.forEach(([t,e])=>{this.i.removeEventListener(t,e)})}o(t,e){this.i.dispatchEvent(new CustomEvent(t,{detail:e}))}},o=((e=o||{})[e.IDLE=0]="IDLE",e[e.PENDING=1]="PENDING",e[e.DRAGGING=2]="DRAGGING",e[e.MOVING=3]="MOVING",e[e.HOLDING=4]="HOLDING",e[e.HOLD_DRAGGING=5]="HOLD_DRAGGING",e[e.OUTSIDE=6]="OUTSIDE",e),l=class extends h{constructor(t){if(super(),this.pointerTarget=null,this.u=!1,this.p=0,this.l=new r.Vector2,this.v=new r.Vector2,this._=new r.Vector2,this.P=new r.Vector2,this.D=.5,this.m=.25,this.G=10,this.I=0,this.i=t.target,this.L=t.animator,this.S=t.clock,this.N=t.isInteractable,t.startPosition){const{x:e,y:s}=t.startPosition;this.l.set(e,s),this.v.set(e,s)}this.T(t)}T(t){this.D=t.idleThreshold,this.m=t.tapThreshold,this.G=t.movingDeltaLimit}H(t){this.p=1,this.I=this.S.getTime().elapsedTime,this._.set(0,0),this.u=this.N(t.target),this.pointerTarget=t.target}O(t){switch(this.p){case 0:case 1:this._.lengthSq()>this.G&&(this.p=3)}this.u=this.N(t.target),this.pointerTarget=t.target,this.L.add({id:"IDLE",delay:this.D,duration:0,autoPause:!1,onBegin:()=>{3===this.p&&(this.p=0)}})}A(t){let e=this.S.getTime().elapsedTime;if(1===this.p&&e<this.I+this.m){let e={tapTarget:t.target,position:{x:this.l.x,y:this.l.y}};this.o("tap",e)}this.p=0,this.pointerTarget=t.target}M(t,e){this.v.set(t,e),this._.sub(this.v,this.l),this.P.add(this._),this.l.copy(this.v)}},a=class{constructor(t){this.B=!1,this.C=t}startEvents(){return this.B?(console.warn("PronotronPointer: Already started."),!1):(this.R(),this.B=!0,!0)}stopEvents(){this.U(),this.C.pointerTarget=null,this.C.p=0,this.B=!1}updateSettings(t){this.C.T(t)}getState(){return o[this.C.p]}canInteract(){return this.C.u}getPosition(){return this.C.l}getDelta(){return this.C._}getDeltaAdditive(){return this.C.P}},d=class extends a{constructor(){super(...arguments),this.V=!1,this.H=t=>{this.C.t(["pointerup",this.A],["pointercancel",this.A]),this.C.H(t)},this.A=t=>{this.V=!0,this.C.h(["pointerup",this.A],["pointercancel",this.A]),2!==this.C.p&&this.C.A(t)},this.O=t=>{if(this.V)return void(this.V=!1);let{x:e,y:s}=this.j(t);6===this.C.p&&(this.C.l.set(e,s),this.C.v.set(e,s),this.C.p=3),this.C.M(e,s),2!==this.C.p&&this.C.O(t)},this.k=t=>{5===this.C.p&&this.C.A(t),this.C.p=6},this.q=()=>{this.C.t(["dragover",this.O],["dragend",this.F]),this.C.p=2},this.F=()=>{this.C.h(["dragover",this.O],["dragend",this.F]),this.C.p=0}}R(){this.C.t(["pointerdown",this.H],["pointermove",this.O],["pointerleave",this.k],["dragstart",this.q])}U(){this.C.h(["pointerdown",this.H],["pointermove",this.O],["pointerup",this.A],["pointercancel",this.A],["pointerleave",this.k],["dragstart",this.q],["dragover",this.O],["dragend",this.F])}j(t){return{x:t.clientX,y:t.clientY}}},c=class extends a{constructor(){super(...arguments),this.H=t=>{this.C.t(["touchmove",this.O],["touchend",this.A]);let{x:e,y:s}=this.j(t);this.C.l.set(e,s),this.C.H(t)},this.A=t=>{this.C.h(["touchmove",this.O],["touchend",this.A]),this.C.A(t)},this.O=t=>{let{x:e,y:s}=this.j(t);this.C.M(e,s),this.C.O(t)}}R(){this.C.t(["touchstart",this.H])}U(){this.C.h(["touchstart",this.H],["touchmove",this.O],["touchend",this.A])}j(t){return{x:t.touches[0].clientX,y:t.touches[0].clientY}}},u=class extends l{constructor(t){super(t),this.J=null,this.K=.35,this.W=!1,this.X=t.isHoldable,this.T(t)}T(t){super.T(t),this.K=t.holdThreshold}H(t){t.target&&this.X(t.target)&&(this.W=!0,this.L.add({id:"HOLD",delay:this.K,duration:0,autoPause:!1,onBegin:()=>{1===this.p&&this.Y(t)}})),super.H(t)}O(t){5!==this.p&&4!==this.p||(t.preventDefault(),this.p=5),this.W=!1,super.O(t)}A(t){switch(this.W=!1,this.J&&(this.p=4),this.p){case 5:case 4:this.Z(t)}super.A(t)}Y(t){this.p=4;let e={position:{x:this.l.x,y:this.l.y},holdTarget:t.target};this.o("hold",e),this.J=t.target}Z(t){let e={position:{x:this.l.x,y:this.l.y},holdTarget:this.J,releaseTarget:t.target};this.o("holdend",e),this.J=null}};let x={tapThreshold:.25,idleThreshold:.5,holdThreshold:.75,movingDeltaLimit:10},p=(0,i.createContext)(void 0),m=()=>{let t=(0,i.useContext)(p);if(!t)throw Error("usePointerContext must be used within a PronotronPointerProvider");return t};function g({children:t}){let e=(0,i.useRef)(new r.PronotronClock),n=(0,i.useRef)(new r.PronotronAnimator(e.current)),[h,o]=(0,i.useState)(null);return((0,i.useEffect)(()=>{var t;let s,i,h=(t={...x,startPosition:{x:window.innerWidth/2,y:window.innerHeight/2},target:window.document.body,animator:n.current,clock:e.current,isInteractable:t=>!!(t.closest("a")||t.closest("button")||t.closest(".holdable")),isHoldable:t=>!!t.dataset.holded},s=(0,r.isTouchDevice)(),i=new u(t),s?new c(i):new d(i));h.startEvents();let l=0,a=()=>{e.current.tick(),n.current.tick(),l=requestAnimationFrame(a)};l=requestAnimationFrame(a);let p=()=>{document.hidden?e.current.pause():e.current.resume()};return document.addEventListener("visibilitychange",p),o(h),()=>{cancelAnimationFrame(l),document.removeEventListener("visibilitychange",p),h.stopEvents()}},[]),(0,i.useEffect)(()=>{let t=t=>{document.documentElement.classList.add("holding"),console.log("HOLD",t)},e=t=>{document.documentElement.classList.remove("holding"),console.log("HOLD-END",t)},s=t=>{console.log("TAP",t)};return window.document.body.addEventListener("hold",t),window.document.body.addEventListener("holdend",e),window.document.body.addEventListener("tap",s),()=>{window.document.body.removeEventListener("hold",t),window.document.body.removeEventListener("holdend",e),window.document.body.removeEventListener("tap",s)}},[]),h)?(0,s.jsx)(p.Provider,{value:{pointerController:h},children:t}):null}let v=(0,i.createContext)(void 0),y=()=>{let t=(0,i.useContext)(v);if(!t)throw Error("usePointerDataContext must be used within a PronotronPointerDataProvider");return t};function b({children:t}){let{pointerController:e}=m(),n=e.getPosition(),[r,h]=(0,i.useState)({x:n.x,y:n.y}),[o,l]=(0,i.useState)({x:n.x,y:n.y}),a=(0,i.useRef)({x:n.x,y:n.y}),[d,c]=(0,i.useState)({x:0,y:0}),[u,x]=(0,i.useState)({x:0,y:0}),p=(0,i.useRef)({x:0,y:0}),g=(0,i.useRef)({x:0,y:0}),[y,b]=(0,i.useState)(""),[f,j]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let t=0,s=()=>{let i=e.getPosition();a.current.x+=(i.x-a.current.x)*.15,a.current.y+=(i.y-a.current.y)*.15,h({x:i.x,y:i.y}),l({x:a.current.x,y:a.current.y});let n=e.getDeltaAdditive();g.current.x=n.x-p.current.x,g.current.y=n.y-p.current.y,p.current.x+=.15*g.current.x,p.current.y+=.15*g.current.y,c(e.getDelta()),x(g.current),b(e.getState()),j(e.canInteract()),t=requestAnimationFrame(s)};return t=requestAnimationFrame(s),()=>{cancelAnimationFrame(t)}},[]),(0,s.jsx)(v.Provider,{value:{pointerPosition:r,pointerEasedPosition:o,pointerDelta:d,pointerDeltaAdditive:u,pointerTargetInteractable:f,pointerState:y},children:t})}function f(){return(0,i.useEffect)(()=>(document.body.classList.add("custom-cursor"),()=>document.body.classList.remove("custom-cursor")),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{children:(0,s.jsxs)(b,{children:[(0,s.jsx)(T,{}),(0,s.jsxs)("div",{className:"sticky top-0 z-50",children:[(0,s.jsx)("div",{className:"bg-black/20",children:(0,s.jsx)(n.Expandable,{title:"Pointer Debug",expand:!0,children:(0,s.jsx)(w,{})})}),(0,s.jsx)("div",{className:"bg-black/10",children:(0,s.jsx)(n.Expandable,{title:"Pointer Settings",expand:!1,children:(0,s.jsx)(j,{})})})]})]})}),(0,s.jsx)("div",{className:"container flex flex-col my-spacing-lg",children:(0,s.jsxs)("div",{className:"flex flex-col landscape:flex-row items-center justify-center h-[80vh] relative bg-slate-200 p-spacing-base gap-spacing-base",children:[(0,s.jsx)("a",{href:"#",className:"text-black text-xl leading-none hover:underline",children:"Link"}),(0,s.jsx)("button",{className:"text-white text-xl py-3 px-spacing-lg leading-none rounded-full transition-colors bg-orange-600 hover:bg-orange-700",children:"Button"}),(0,s.jsx)("div",{"data-holded":"0",className:"holdable flex items-center justify-center bg-purple-500 text-white rounded-lg py-3 px-spacing-lg group",children:(0,s.jsxs)("div",{className:"pointer-events-none select-none",children:[(0,s.jsx)("p",{className:"text-xl group-data-[holded=1]:hidden",children:"Holdable"}),(0,s.jsx)("p",{className:"text-xl group-data-[holded=0]:hidden",children:"Holded"})]})})]})})]})}function j(){let{pointerController:t}=m(),[e,n]=(0,i.useState)(x);(0,i.useEffect)(()=>{t.updateSettings(e)},[e]);let r=(0,i.useCallback)(t=>{let{name:e,value:s}=t.target;n(t=>({...t,[e]:Number(s)}))},[]);return(0,s.jsxs)("div",{className:"form grid gap-spacing-sm grid-rows-2 grid-cols-2 mt-spacing-xs landscape:grid-cols-4 landscape:grid-rows-1",children:[(0,s.jsxs)("fieldset",{children:[(0,s.jsxs)("label",{htmlFor:"tapThreshold",children:["Tap Threshold ",(0,s.jsx)("small",{children:"(sec)"})]}),(0,s.jsx)("input",{className:"w-full",type:"number",min:.1,step:.1,name:"tapThreshold",id:"tapThreshold",value:e.tapThreshold,onChange:r})]}),(0,s.jsxs)("fieldset",{children:[(0,s.jsxs)("label",{htmlFor:"idleThreshold",children:["Idle Threshold ",(0,s.jsx)("small",{children:"(sec)"})]}),(0,s.jsx)("input",{className:"w-full",type:"number",min:.1,step:.1,name:"idleThreshold",id:"idleThreshold",value:e.idleThreshold,onChange:r})]}),(0,s.jsxs)("fieldset",{children:[(0,s.jsxs)("label",{htmlFor:"holdThreshold",children:["Hold Threshold ",(0,s.jsx)("small",{children:"(sec)"})]}),(0,s.jsx)("input",{className:"w-full",type:"number",min:.1,step:.1,name:"holdThreshold",id:"holdThreshold",value:e.holdThreshold,onChange:r})]}),(0,s.jsxs)("fieldset",{children:[(0,s.jsxs)("label",{htmlFor:"movingDeltaLimit",children:["Moving Delta ",(0,s.jsx)("small",{children:"(px)"})]}),(0,s.jsx)("input",{className:"w-full",type:"number",min:1,step:1,name:"movingDeltaLimit",id:"movingDeltaLimit",value:e.movingDeltaLimit,onChange:r})]})]})}function w(){let{pointerPosition:t,pointerDelta:e,pointerState:i,pointerDeltaAdditive:n,pointerTargetInteractable:r}=y();return(0,s.jsxs)("div",{className:"grid grid-cols-5 mt-spacing-xs gap-spacing-xs text-xs text-left",children:[(0,s.jsxs)("span",{children:["State: ",(0,s.jsx)("br",{}),i]}),(0,s.jsxs)("span",{children:["Interactable: ",(0,s.jsx)("br",{}),r?"TRUE":"FALSE"]}),(0,s.jsxs)("span",{children:["Position: ",(0,s.jsx)("br",{}),t.x.toFixed(0),", ",t.y.toFixed(0)]}),(0,s.jsxs)("span",{children:["Last Delta: ",(0,s.jsx)("br",{}),e.x.toFixed(0),", ",e.y.toFixed(0)]}),(0,s.jsxs)("span",{children:["Delta Additive: ",(0,s.jsx)("br",{}),n.x.toFixed(0),", ",n.y.toFixed(0)]})]})}function T(){let{pointerState:t,pointerTargetInteractable:e,pointerEasedPosition:i}=y();return(0,s.jsx)("div",{className:"pointer","data-interactable":e,"data-state":t,style:{"--x":`${i.x}px`,"--y":`${i.y}px`},children:(0,s.jsx)("div",{className:"pointer-inside"})})}t.s(["default",()=>f],56629)}]);