@import "tailwindcss";
/* We use a custom container */
@source not inline("container");

@layer base {
	button:not(:disabled),
	[role="button"]:not(:disabled) {
		cursor: pointer;
	}
}

@theme {
	/* Fluid Typeography */
	--fluid-1: calc(10px + (12 - 10) * ((100vw - 320px) / (1650 - 320)));
	--fluid-2: calc(12px + (15 - 12) * ((100vw - 320px) / (1650 - 320)));
	--fluid-3: calc(15px + (20 - 15) * ((100vw - 320px) / (1650 - 320)));
	--fluid-4: calc(20px + (26 - 20) * ((100vw - 320px) / (1650 - 320)));
	--fluid-5: calc(26px + (34 - 26) * ((100vw - 320px) / (1650 - 320)));
	--fluid-6: calc(34px + (43 - 34) * ((100vw - 320px) / (1650 - 320)));
	--fluid-7: calc(43px + (54 - 43) * ((100vw - 320px) / (1650 - 320)));
	--fluid-8: calc(54px + (66 - 54) * ((100vw - 320px) / (1650 - 320)));
	--fluid-9: calc(66px + (80 - 66) * ((100vw - 320px) / (1650 - 320)));
}

@theme {
	/* Orientation based breakpoints */
	--screen-portrait: (orientation: portrait);
	--screen-landscape: (orientation: landscape);

	/* Spacing tokens */
	--spacing-content-outside-width: var(--content-outside-width);
	--spacing-spacing-xs: var(--spacing-xs);
	--spacing-spacing-sm: var(--spacing-sm);
	--spacing-spacing-base: var(--spacing-base);
	--spacing-spacing-lg: var(--spacing-lg);
	--spacing-spacing-xl: var(--spacing-xl);
	--spacing-spacing-2xl: var(--spacing-2xl);
	--spacing-spacing-3xl: var(--spacing-3xl);

	/* Colors */
	--color-background: var(--background);
	--color-foreground: var(--foreground);

	/* Font sizes */
	--text-xs: var(--fluid-1);
	--text-sm: var(--fluid-2);
	/* base */
	--text-base: var(--fluid-3);
	--text-base--letter-spacing: -0.025em;
	/* lg */
	--text-lg: var(--fluid-4);
	/* xl */
	--text-xl: var(--fluid-5);
	--text-xl--letter-spacing: -0.02em;
	--text-xl--line-height: 2.1rem;
	/* 2xl */
	--text-2xl: var(--fluid-6);
	/* 3xl */
	--text-3xl: var(--fluid-7);
	--text-3xl--letter-spacing: -0.05em;
	--text-3xl--line-height: 2.5rem;
	/* 4xl */
	--text-4xl: var(--fluid-8);

}

/**
	Create content width

	We are avoiding min(), max(), clamp() to support old devices. Normally using following is easier 

	--width: min( 75%, 1650px );

	This approach uses media queries to set --width to 1650px when the viewport is wider than 2200px (which is 75% of 2200px). 
	You can adjust the 2200px to match the exact breakpoint where 1650px should be used instead of 75%.
*/
:root {
	--background: #ffffff;
	--foreground: #171717;
	--width: 90vw;
	/** 
		To be able to discard scrollbar width, we use % 
	*/
	--content-outside-width: calc( ( 100% - var( --width ) ) / 2 );
	/** 
		To be able to use as spacing units (height, margin, ...) value, we use VW 
	*/
	--spacing-base: calc( ( 100vw - var( --width ) ) / 2 );
	/** 
		Spacing variations 
	*/
	--spacing-xs: calc( 0.25 * var( --spacing-base ) );
	--spacing-sm: calc( 0.5 * var( --spacing-base ) );
	--spacing-lg: calc( 1.5 * var( --spacing-base ) );
	--spacing-xl: calc( 3 * var( --spacing-base ) );
	--spacing-2xl: calc( 4 * var( --spacing-base ) );
	--spacing-3xl: calc( 5 * var( --spacing-base ) );
}

@media ( orientation: landscape ){
    :root {
        --width: 75vw;
		--spacing-base: 2rem;
    }
}
@media ( min-width: 2200px ){
    :root {
        --width: 1650px;
    }
}



body {
	background: var( --background );
	color: var( --foreground );
	font-family: Arial, Helvetica, sans-serif;
}

body.custom-cursor * {
	cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23000000" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="%23FFFFFF" stroke-width="1" /></svg>') 12 12, auto !important;
}


/**
	----------------------------------------------------------------------
	BASE STYLES
	----------------------------------------------------------------------
*/
@layer base {

	h1 {
		@apply text-3xl;
	}
	h2 {
		@apply text-2xl;
	}
	h3 {
		@apply text-xl;
	}
	h4 {
		@apply text-lg;
	}
}

/** 
	Holding treshold might be smaller than IOS magnifier appear treshold, to following CSS disable magnifier
*/
.holding {
    user-select: none !important; /* supported by Chrome and Opera */
   -webkit-user-select: none !important; /* Safari */
   -khtml-user-select: none !important; /* Konqueror HTML */
   -moz-user-select: none !important; /* Firefox */
   -ms-user-select: none !important; /* Internet Explorer/Edge */
   -webkit-touch-callout: none !important;
   -webkit-user-callout: none !important;
   -webkit-user-drag: none !important;
   -webkit-user-modify: none !important;
   -webkit-highlight: none !important;
   -webkit-text-size-adjust: none !important;
}

[data-holded] {
	pointer-events: auto;
}
[data-holded="1"] {
	pointer-events: none;
	background-color: black;
}

@layer components {

	.container {
		@apply
		w-[var(--width)]
		max-w-[var(--width)]
		mx-auto
	}

	@keyframes pulse-bg {
		0% {
			background-color: rgba( 255, 255, 255, 0.9 );
		}
		50% {
			background-color: rgba( 255, 0, 0, 0 );
		}
		100% {
			background-color: rgba( 255, 255, 255, 0.9 );
		}
	}

	.text-link {
		@apply
		text-blue-600
		underline 
		hover:no-underline
	}

	.pointer {
		--cursor-size: max( 60px, calc( 100vw / 30 ) );
		--cursor-half-size: calc( var( --cursor-size ) / 2 );
		--scale: 1;
		--transition-duration: 0.4s;
		--background-color: transparent;
		--border-color: white;
		--animation: none;
		background-color: transparent;
		position: fixed;
		left: 0;
		top: 0;
		transform: translate3d( calc( var( --x ) - var( --cursor-half-size ) ), calc( var( --y ) - var( --cursor-half-size ) ), 0 );
		pointer-events: none;
		touch-action: none;
		user-select: none;
		mix-blend-mode: difference;
		z-index: 9999;
	}

	.pointer-inside {
		animation: var( --animation );
		background-color: var( --background-color );
		border: 1px solid var( --border-color );
		overflow: hidden;
		border-radius: 50%;
		height: var( --cursor-size );
		width: var( --cursor-size );
		transform: scale( var( --scale ) );
		transition: transform var( --transition-duration ) cubic-bezier( 0.22, 1, 0.36, 1 );
	}

	.pointer[ data-state="MOVING" ] {
		--scale: 1.25;
	}

	.pointer[ data-state="OUTSIDE" ] {
		--scale: 0;
	}

	.pointer[ data-state="PENDING" ] {
		--scale: 0.85;
		--animation: pulse-bg 1.5s infinite;
	}

	.pointer[ data-state="HOLDING" ],
	.pointer[ data-state="HOLD_DRAGGING" ] {
		--background-color: rgba( 255, 255, 255, 1.0 );
		--scale: 1.25;
	}

	.pointer[ data-state="HOLD_DRAGGING" ] {
		--border-color: rgba( 168, 85, 247, 1.0 );
	}

	.pointer[ data-interactable="true" ] {
		--animation: pulse-bg 1.5s infinite;
		--transition-duration: 1s;
	}


}


@layer utilities {

	.text-balance {
		text-wrap: balance;
	}
	
	.form label {
		@apply
		block mb-spacing-xs text-sm
	}

	/* Checkbox */
	.form .checkbox {
		@apply
		flex flex-col
	}
	.form .checkbox > fieldset {
		@apply
		flex flex-row
	}
	.form .checkbox label {
		@apply
		ml-spacing-xs text-base whitespace-nowrap
	}
	.form input[ type=checkbox ] {
		@apply
		w-6 h-6 border border-gray-300 rounded bg-gray-50 focus:ring-blue-300
	}
	
	/* Number/Select input */
	.form input[ type=number ],
	.form select {
		@apply
		text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 leading-none p-spacing-xs
	}

	/* Select input */
	.form select {
		@apply
		block w-full
	}
	
}